{"ast":null,"code":"import _classCallCheck from\"/Users/kelvinho/Documents/Coding/CAS website/yikes/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kelvinho/Documents/Coding/CAS website/yikes/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kelvinho/Documents/Coding/CAS website/yikes/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kelvinho/Documents/Coding/CAS website/yikes/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{PureComponent}from'react';import'./App.css';import API from'./utils/API';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";;var Home=/*#__PURE__*/function(_PureComponent){_inherits(Home,_PureComponent);var _super=_createSuper(Home);function Home(props){var _this;_classCallCheck(this,Home);_this=_super.call(this,props);_this.componentDidMount=function(){_this.GetTexts();};_this.GetTexts=function(){API.getTexts().then(function(response){_this.setState({imageList:response.data.texts});}).catch(function(err){return alert(err);});};_this.SendText=function(){var textData=new FormData();textData.append('sender',_this.state.sender);textData.append('description',_this.state.description);API.sendText({sender:_this.state.sender,description:_this.state.description}).then(function(response){_this.GetTexts();}).catch(function(err){return alert('Error: '+err);});_this.GetTexts();};_this.deleteFile=function(id){API.deleteText(id).then(function(response){if(response.data.success){_this.setState({imageList:_this.state.imageList.filter(function(el){return el._id!==id;})});}}).catch(function(err){return alert(err);});};_this.state={sender:'',description:'',imageList:[]};return _this;}_createClass(Home,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"scroll\",id:\"scroll\",children:this.state.imageList.map(function(text){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{className:\"Sender\",children:text.sender}),/*#__PURE__*/_jsxs(\"small\",{className:\"Date\",children:[text.createdAt.slice(0,-14),\" \",text.createdAt.slice(11,-5)]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.deleteFile(text._id);},children:\"Delete\"}),/*#__PURE__*/_jsx(\"p\",{className:\"Textt\",children:text.description})]});})}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{id:\"textbox\",placeholder:\"Message\",className:\"inputBox\",type:\"text\",onChange:function onChange(event){return _this2.setState({description:event.target.value});},value:this.state.description})})]});}}]);return Home;}(PureComponent);export default Home;","map":{"version":3,"sources":["/Users/kelvinho/Documents/Coding/CAS website/yikes/client/src/Home.tsx"],"names":["React","PureComponent","API","Home","props","componentDidMount","GetTexts","getTexts","then","response","setState","imageList","data","texts","catch","err","alert","SendText","textData","FormData","append","state","sender","description","sendText","deleteFile","id","deleteText","success","filter","el","_id","map","text","createdAt","slice","event","target","value"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport './App.css';\nimport API from './utils/API';\n\n\ninterface texts {\n    imageList: any[];\n    description:string;\n    sender: string;\n};\n\nclass Home extends PureComponent<{}, texts> {\n    constructor(props: {}) {\n        super(props);\n\n        this.state = {\n            sender: '',\n            description: '',\n            imageList: [],\n        };\n    }\n\n    componentDidMount = () => {\n        this.GetTexts();\n    }\n\n    GetTexts = () => {\n        API.getTexts()\n            .then(response => {\n                this.setState({ imageList: response.data.texts });\n            })\n            .catch(err => alert(err));\n    }\n\n    SendText = () => {\n        let textData = new FormData();\n        textData.append('sender', this.state.sender);\n        textData.append('description', this.state.description);\n\n        API.sendText({\n            sender: this.state.sender,\n            description: this.state.description\n        })\n            .then((response) => {\n                this.GetTexts();\n            })\n            .catch(err => alert('Error: ' + err));\n            this.GetTexts();\n    }\n\n    deleteFile = (id: any) => {\n        API.deleteText(id)\n            .then((response) => {\n                if (response.data.success) {\n                    this.setState({ imageList: this.state.imageList.filter(el => el._id !== id)});\n                }\n            })\n            .catch(err => alert(err));\n    }\n\n    render(){\n        return (\n            <div >\n                 <div className = \"scroll\" id = \"scroll\">\n                    {this.state.imageList.map((text) => (\n                        <div >\n                            <b className=\"Sender\">{text.sender}</b>\n                            <small className = \"Date\">{text.createdAt.slice(0, -14)} {text.createdAt.slice(11, -5)}</small>\n                            <button  onClick={() => this.deleteFile(text._id)}>Delete</button>\n                            <p className= \"Textt\">{text.description}</p>\n                            \n                        </div>\n                    ))}\n                </div>\n                <div className=\"input\">\n                <input\n                id = \"textbox\"\n                placeholder=\"Message\"\n                    className = \"inputBox\"\n                    type=\"text\"\n                    onChange={event => this.setState({ description: event.target.value })}\n                    value={this.state.description}\n                />\n                 </div>\n                </div>\n        );\n    }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}