(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n(24),c=n.n(s),a=n(27),r=n(1),o=n(25),d=n(26),l=n(30),u=n(29),h=(n(35),n(10)),j=n.n(h),p=function(){return j.a.get("/api/texts")},m=function(e){return j.a.post("/api/texts",e)},x=function(e){return j.a.get("/api/texts/"+e)},b=n(2),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){i.GetTexts();var e=window.prompt("Your name is:");null!=e&&(e.trim()?i.setState({sender:e}):i.setState({sender:"Anonymous"}))},i.GetTexts=function(){p().then((function(e){i.setState({imageList:e.data.texts})})).catch((function(e){return alert(e)}))},i.SendText=function(){var e=new FormData;e.append("sender",i.state.sender),e.append("description",i.state.description),m({sender:i.state.sender,description:i.state.description}).then((function(e){i.GetTexts()})).catch((function(e){return alert("Error: "+e)})),i.GetTexts()},i.deleteFile=function(e){x(e).then((function(t){t.data.success&&i.setState({imageList:i.state.imageList.filter((function(t){return t._id!==e}))})})).catch((function(e){return alert(e)}))},i.state={sender:"",description:"",imageList:[]},i}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(){var e=document.getElementById("scroll");null!=e&&(e.scrollTop=e.scrollHeight)}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"everything",children:Object(b.jsxs)("div",{className:"chatandbox",children:[Object(b.jsx)("div",{className:"scroll",id:"scroll",children:this.state.imageList.map((function(t){return Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{className:"Sender",children:t.sender}),Object(b.jsxs)("small",{className:"Date",children:[t.createdAt.slice(0,-14)," ",t.createdAt.slice(11,-5)]}),Object(b.jsx)("button",{className:"deletebutton",onClick:function(){return e.deleteFile(t._id)},children:"Delete"}),Object(b.jsx)("p",{className:"Textt",children:t.description})]})}))}),Object(b.jsxs)("div",{className:"input",children:[Object(b.jsx)("input",{id:"textbox",className:"inputBox",type:"text",onChange:function(t){return e.setState({description:t.target.value})},value:this.state.description}),Object(b.jsx)("button",{className:"button",id:"sendButton",onClick:this.SendText,children:"Send"})]})]})})}}]),n}(i.PureComponent),v=function(){return Object(b.jsx)(a.a,{children:Object(b.jsx)("div",{children:Object(b.jsx)(r.c,{children:Object(b.jsx)(r.a,{exact:!0,path:"/",component:f})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(b.jsx)(v,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[60,1,2]]]);
//# sourceMappingURL=main.3ee29d48.chunk.js.map